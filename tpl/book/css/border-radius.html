<div class=page-header><h1 id=CSS>CSS 圆角</h1></div><p>CSS3 新增了圆角的特性，要知道这个应用非常频繁，以前可是需要通过在四条边框和四个角落贴背景图才能完成的。因此 CSS3 增加这个特性极大方便了页面的编写。</p><h2 id=CSS>CSS 圆角语法</h2><h3>拆分属性语法</h3><pre><code class="line-numbers language-css">/* 左上角 */
border-top-left-radius: none | &lt;length&gt;{1,2}

/* 右上角 */
border-top-right-radius: none | &lt;length&gt;{1,2}

/* 右下角 */
border-bottom-right-radius: none | &lt;length&gt;{1,2}

/* 左下角 */
border-bottom-left-radius: none | &lt;length&gt;{1,2}
</code></pre><p><code>&lt;length&gt;</code>：由浮点数字和单位标识符组成的长度值。不可为负。</p><p>其中 <code>&lt;length&gt;</code> 可以给出两个值，分别作为圆角横轴和纵轴的半径；也可以只指定一个值，横轴和纵轴相等。</p><h4>分别给出圆角横轴和纵轴的半径</h4><pre><code class="line-numbers language-css">.demo {
  border-top-left-radius: 10px 20px;
  border-top-right-radius: 15px 30px;
  border-bottom-right-radius: 20px 10px;
  border-bottom-left-radius: 30px 15px;
}
</code></pre><p style="border:2px solid #333;width:50%;height:80px;-webkit-border-radius:10px 15px 20px 30px/20px 30px 10px 15px;border-radius:10px 15px 20px 30px/20px 30px 10px 15px"></p><h4>给出圆角的半径（横轴纵轴相等）</h4><pre><code class="line-numbers language-css">.demo {
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
  border-bottom-left-radius: 10px;
}
</code></pre><p style="border:2px solid #333;width:50%;height:80px;-webkit-border-radius:10px;border-radius:10px"></p><h3>单属性语法</h3><p><code>border-radius</code> 其实可以整合为一条属性来写。</p><pre><code class="line-numbers language-css">border-radius: none | &lt;length&gt;{1,4} [/ &lt;length&gt;{1,4} ]?
</code></pre><p><code>&lt;length&gt;</code>：由浮点数字和单位标识符组成的长度值。不可为负。</p><h4>分别给出每个角横轴和纵轴的半径（完整给出每个值）</h4><p><code>/</code> 前指的是圆角的横轴半径，后面指的是圆角的纵轴半径。</p><p><code>/</code> 可省略，省略后横轴纵轴相等。</p><p>完整的给出共四个方向，与我们之前介绍过的 <code>margin</code>、<code>padding</code> 类似，遵循<strong>上右下左</strong>的顺序，即 <code>top-left</code>、<code>top-right</code>、<code>bottom-right</code>、<code>bottom-left</code>。</p><pre><code class="line-numbers language-css">.demo {
  border-radius: 10px 15px 20px 30px / 20px 30px 10px 15px;
}
</code></pre><p style="border:2px solid #333;width:50%;height:80px;-webkit-border-radius:10px 15px 20px 30px/20px 30px 10px 15px;border-radius:10px 15px 20px 30px/20px 30px 10px 15px"></p><p>等价于</p><pre><code class="line-numbers language-css">.demo {
  border-top-left-radius: 10px 20px;
  border-top-right-radius: 15px 30px;
  border-bottom-right-radius: 20px 10px;
  border-bottom-left-radius: 30px 15px;
}
</code></pre><h4>给出三个值</h4><p>给出三个值的时候，顺序为 <code>top-left</code>、<code>top-right bottom-left</code>、<code>bottom-right</code>。</p><pre><code class="line-numbers language-css">.demo {
  border-radius: 10px 20px 30px;
}
</code></pre><p style="border:2px solid #333;width:50%;height:80px;-webkit-border-radius:10px 20px 30px;border-radius:10px 20px 30px"></p><p>等价于</p><pre><code class="line-numbers language-css">.demo {
  border-top-left-radius: 10px;
  border-top-right-radius: 20px;
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 30px;
}
</code></pre><h4>给出两个值</h4><p>给出两个值的时候，顺序为 <code>top-left bottom-right</code>、<code>top-right bottom-left</code>，即对角线上的圆角半径相同。</p><pre><code class="line-numbers language-css">.demo {
  border-radius: 10px 20px;
}
</code></pre><p style="border:2px solid #333;width:50%;height:80px;-webkit-border-radius:10px 20px;border-radius:10px 20px"></p><p>等价于：</p><pre><code class="line-numbers language-css">.demo {
  border-top-left-radius: 10px;
  border-bottom-right-radius: 10px;
  border-top-right-radius: 20px;
  border-bottom-left-radius: 20px;
}
</code></pre><h4>只给出一个圆角的半径（四个角横轴纵轴相等）</h4><pre><code class="line-numbers language-css">.demo {
  border-radius: 10px;
}
</code></pre><p style="border:2px solid #333;width:50%;height:80px;-webkit-border-radius:10px;border-radius:10px"></p><p>等价于</p><pre><code class="line-numbers language-css">.demo {
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
  border-bottom-left-radius: 10px;
}
</code></pre><h2 id=CSS>CSS 圆角特性</h2><h3>内半径 = 外半径 - 边框宽度</h3><p>内半径 0</p><pre><code class="line-numbers language-css">.border-big {
  border: 15px solid #333;
  border-radius: 15px;
}
</code></pre><p style="border:15px solid #333;width:50%;height:80px;-webkit-border-radius:15px;border-radius:15px"></p><p>内半径 10px</p><pre><code class="line-numbers language-css">.border-big {
  border: 15px solid #333;
  border-radius: 25px;
}
</code></pre><p style="border:15px solid #333;width:50%;height:80px;-webkit-border-radius:25px;border-radius:25px"></p><h3>宽度不同会平滑过渡</h3><pre><code class="line-numbers language-css">.border-big {
  border: solid #333;
  border-width: 10px 25px 20px 5px;
  border-radius: 50px;
}
</code></pre><p style="border:solid #333;border-width:10px 25px 20px 5px;width:50%;height:80px;-webkit-border-radius:50px;border-radius:50px"></p><h3>临边边界角度与临边宽度相关</h3><pre><code class="line-numbers language-css">.border-big {
  border: solid;
  border-color: red green blue orange;
  border-width: 10px 25px 20px 5px;
  border-radius: 50px;
}
</code></pre><p style="border:solid;border-color:red green #00f orange;border-width:10px 25px 20px 5px;width:50%;height:80px;-webkit-border-radius:50px;border-radius:50px"></p><h2 id=CSS>练习（石英钟 - CSS 圆角）</h2><p>我们开始为石英钟添加圆角的部分。</p><h3>石英钟主体（外壳、表盘外框、表盘）</h3><pre><code class="line-numbers language-stylus">#clock
  border-radius: 2em
  &amp;::before
    border-radius: 12em
  &amp;::after
    border-radius: 12.5em
</code></pre><p>现在我们的石英钟已经可以看出表盘的样子了：</p><p><style>#clock,#clock-1,#clock-2{position:absolute;top:50%;left:50%}#container{position:absolute;top:0;bottom:0;left:0;right:0;background:#232425;background:-webkit-radial-gradient(#636669,#19191a);background:-moz-radial-gradient(#636669,#19191a);background:-o-radial-gradient(#636669,#19191a);background:-ms-radial-gradient(#636669,#19191a);background:radial-gradient(#636669,#19191a);-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;font:14px/1.4 Helvetica,Arial,sans-serif}#clock{width:26em;height:26em;margin:-13em 0 0 -13em;background:#f9f9f9;background:-webkit-linear-gradient(top,#f9f9f9,#666);background:-moz-linear-gradient(top,#f9f9f9,#666);background:-o-linear-gradient(top,#f9f9f9,#666);background:-ms-linear-gradient(top,#f9f9f9,#666);background:linear-gradient(to bottom,#f9f9f9,#666);-webkit-border-radius:2em;border-radius:2em}#clock-1{width:24em;height:24em;margin:-12em 0 0 -12em;background:-webkit-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-moz-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-o-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-ms-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:linear-gradient(140deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;-webkit-border-radius:12em;border-radius:12em}#clock-2{width:23em;height:23em;margin:-11.5em 0 0 -11.5em;background:-webkit-linear-gradient(top,#fff,#ccc);background:-moz-linear-gradient(top,#fff,#ccc);background:-o-linear-gradient(top,#fff,#ccc);background:-ms-linear-gradient(top,#fff,#ccc);background:linear-gradient(to bottom,#fff,#ccc);border:.1em solid rgba(0,0,0,.2);-webkit-border-radius:12.5em;border-radius:12.5em}</style></p><div style=position:relative;width:100%;height:500px><div id=container><div id=clock><div id=clock-1></div><div id=clock-2></div></div></div></div><h3>时针和分针</h3><p>我们在表盘的中央添加上时针和分针，在 <code>#clock</code> 中添加以下的 HTML。</p><pre><code class="line-numbers language-html">&lt;div id=&quot;hour&quot; class=&quot;pane&quot;&gt;
  &lt;div class=&quot;outer&quot;&gt;
    &lt;div class=&quot;inner&quot;&gt;
      &lt;div class=&quot;hand&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;minute&quot; class=&quot;pane&quot;&gt;
  &lt;div class=&quot;outer&quot;&gt;
    &lt;div class=&quot;inner&quot;&gt;
      &lt;div class=&quot;hand&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre><p>然后使他们在正中间，使用 <code>z-index</code> 提升一下他们的层次，避免被遮住。</p><pre><code class="line-numbers language-stylus">.pane
  z-index: 3
  rectangle-center: 16em

.outer
.inner
  width: 100%
  height: 100%

.hand
  @extend $absolute-center
</code></pre><p>其中 <code>.pane</code> 层将会用于定位指针的初始角度，<code>.outer</code> 将会用于添加指针抖动的动画，<code>.inner</code> 将会用于添加指针旋转的动画，<code>.hand</code> 用于绘出指针。</p><p>指针其实是一个一边比较尖一些的矩形，所以我们可以写一个 Mixin 来完成。</p><pre><code class="line-numbers language-stylus">hand(width, height, color)
  width: width
  height: height
  margin: - height (width / -2) 0
  border-radius: .5em .5em 0 0/height height 0 0
  background: color
</code></pre><p>其中 <code>border-radius</code> 属性添加了圆角横向半径固定 <code>.5em</code>，纵向半径为容器高度（圆角半径可以超过容器尺寸，将会以圆滑的方式展现）。</p><p>指针如下所示：</p><p style="background:#333;width:100%;height:20px;-webkit-border-radius:80% 0 0 80%/20px 0 0 20px;border-radius:80% 0 0 80%/20px 0 0 20px"></p><p>增加时针和分针的样式</p><pre><code class="line-numbers language-stylus">#hour
  .hand
    hand: .6em 4em #333

#minute
  .hand
    hand: .3em 7em #333
</code></pre><p>增加时针和分针后的样子（现在时针和分针是重合在一起的）</p><p><style>#clock,#clock-1,#clock-2,.hand,.pane{position:absolute;top:50%;left:50%}#container{position:absolute;top:0;bottom:0;left:0;right:0;background:#232425;background:-webkit-radial-gradient(#636669,#19191a);background:-moz-radial-gradient(#636669,#19191a);background:-o-radial-gradient(#636669,#19191a);background:-ms-radial-gradient(#636669,#19191a);background:radial-gradient(#636669,#19191a);-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;font:14px/1.4 Helvetica,Arial,sans-serif}#clock{width:26em;height:26em;margin:-13em 0 0 -13em;background:#f9f9f9;background:-webkit-linear-gradient(top,#f9f9f9,#666);background:-moz-linear-gradient(top,#f9f9f9,#666);background:-o-linear-gradient(top,#f9f9f9,#666);background:-ms-linear-gradient(top,#f9f9f9,#666);background:linear-gradient(to bottom,#f9f9f9,#666);-webkit-border-radius:2em;border-radius:2em}#clock-1{width:24em;height:24em;margin:-12em 0 0 -12em;background:-webkit-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-moz-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-o-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-ms-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:linear-gradient(140deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;-webkit-border-radius:12em;border-radius:12em}#clock-2{width:23em;height:23em;margin:-11.5em 0 0 -11.5em;background:-webkit-linear-gradient(top,#fff,#ccc);background:-moz-linear-gradient(top,#fff,#ccc);background:-o-linear-gradient(top,#fff,#ccc);background:-ms-linear-gradient(top,#fff,#ccc);background:linear-gradient(to bottom,#fff,#ccc);border:.1em solid rgba(0,0,0,.2);-webkit-border-radius:12.5em;border-radius:12.5em}.pane{z-index:3;width:16em;height:16em;margin:-8em 0 0 -8em}.inner,.outer{width:100%;height:100%}#hour .hand{width:.6em;height:4em;margin:-4em -.3em 0;-webkit-border-radius:.5em .5em 0 0/4em 4em 0 0;border-radius:.5em .5em 0 0/4em 4em 0 0;background:#333}#minute .hand{width:.3em;height:7em;margin:-7em -.15em 0;-webkit-border-radius:.5em .5em 0 0/7em 7em 0 0;border-radius:.5em .5em 0 0/7em 7em 0 0;background:#333}</style></p><div style=position:relative;width:100%;height:500px><div id=container><div id=clock><div id=clock-1></div><div id=hour class=pane><div class=outer><div class=inner><div class=hand></div></div></div></div><div id=minute class=pane><div class=outer><div class=inner><div class=hand></div></div></div></div><div id=clock-2></div></div></div></div><h3>秒针</h3><p>秒针与时针和分针的区别在于</p><ul><li>需要往下多出一小截</li><li>中间有一个圆形</li></ul><p>我们画出秒针的样式：</p><pre><code class="line-numbers language-stylus">#second
  $color = #c00
  .outer
    &amp;::after
      content: &quot;&quot;
      rectangle-center: 1em
      background: $color
      border-radius: 1em
      box-shadow: rgba(#000, .8) 0 0 .2em
  .hand
    hand: .2em 11em $color
    margin-top: -9em
</code></pre><p>我们在 <code>.hand</code> 上添加 <code>margin-top: -9em</code> 让秒针往下多出一小截。</p><p>然后在 <code>.outer</code> 增加一个 <code>::after</code> 伪元素，用来绘制中间的圆形。</p><p>秒针的效果：</p><div style=position:relative;height:40px><p style="background:#c00;width:100%;height:10px;-webkit-border-radius:100% 0 0 100%/10px 0 0 10px;border-radius:100% 0 0 100%/10px 0 0 10px"></p><p style=position:absolute;top:-15px;right:15%;background:#c00;width:40px;height:40px;-webkit-border-radius:40px;border-radius:40px></p></div><p>增加秒针后的样子（现在秒针、时针和分针均是重合在一起的）</p><p><style>#clock,#clock-1,#clock-2,#second .outer-2,.hand,.pane{position:absolute;top:50%;left:50%}#container{position:absolute;top:0;bottom:0;left:0;right:0;background:#232425;background:-webkit-radial-gradient(#636669,#19191a);background:-moz-radial-gradient(#636669,#19191a);background:-o-radial-gradient(#636669,#19191a);background:-ms-radial-gradient(#636669,#19191a);background:radial-gradient(#636669,#19191a);-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;font:14px/1.4 Helvetica,Arial,sans-serif}#clock{width:26em;height:26em;margin:-13em 0 0 -13em;background:#f9f9f9;background:-webkit-linear-gradient(top,#f9f9f9,#666);background:-moz-linear-gradient(top,#f9f9f9,#666);background:-o-linear-gradient(top,#f9f9f9,#666);background:-ms-linear-gradient(top,#f9f9f9,#666);background:linear-gradient(to bottom,#f9f9f9,#666);-webkit-border-radius:2em;border-radius:2em}#clock-1{width:24em;height:24em;margin:-12em 0 0 -12em;background:-webkit-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-moz-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-o-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-ms-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:linear-gradient(140deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;-webkit-border-radius:12em;border-radius:12em}#clock-2{width:23em;height:23em;margin:-11.5em 0 0 -11.5em;background:-webkit-linear-gradient(top,#fff,#ccc);background:-moz-linear-gradient(top,#fff,#ccc);background:-o-linear-gradient(top,#fff,#ccc);background:-ms-linear-gradient(top,#fff,#ccc);background:linear-gradient(to bottom,#fff,#ccc);border:.1em solid rgba(0,0,0,.2);-webkit-border-radius:12.5em;border-radius:12.5em}.pane{z-index:3;width:16em;height:16em;margin:-8em 0 0 -8em}.inner,.outer{width:100%;height:100%}#hour .hand{width:.6em;height:4em;margin:-4em -.3em 0;-webkit-border-radius:.5em .5em 0 0/4em 4em 0 0;border-radius:.5em .5em 0 0/4em 4em 0 0;background:#333}#minute .hand{width:.3em;height:7em;margin:-7em -.15em 0;-webkit-border-radius:.5em .5em 0 0/7em 7em 0 0;border-radius:.5em .5em 0 0/7em 7em 0 0;background:#333}#second .outer-2{width:1em;height:1em;margin:-.5em 0 0 -.5em;background:#c00;-webkit-border-radius:1em;border-radius:1em}#second .hand{width:.2em;height:11em;margin:-11em -.1em 0;-webkit-border-radius:.5em .5em 0 0/11em 11em 0 0;border-radius:.5em .5em 0 0/11em 11em 0 0;background:#c00;margin-top:-9em}</style></p><div style=position:relative;width:100%;height:500px><div id=container><div id=clock><div id=clock-1></div><div id=hour class=pane><div class=outer><div class=inner><div class=hand></div></div></div></div><div id=minute class=pane><div class=outer><div class=inner><div class=hand></div></div></div></div><div id=second class=pane><div class=outer><div class=inner><div class=hand></div></div><div class=outer-2></div></div></div><div id=clock-2></div></div></div></div><h3>本次完整代码</h3><p>HTML</p><pre><code class="line-numbers language-html">&lt;div id=&quot;container&quot;&gt;
  &lt;div id=&quot;clock&quot;&gt;
    &lt;div id=&quot;hour&quot; class=&quot;pane&quot;&gt;
      &lt;div class=&quot;outer&quot;&gt;
        &lt;div class=&quot;inner&quot;&gt;
          &lt;div class=&quot;hand&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id=&quot;minute&quot; class=&quot;pane&quot;&gt;
      &lt;div class=&quot;outer&quot;&gt;
        &lt;div class=&quot;inner&quot;&gt;
          &lt;div class=&quot;hand&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id=&quot;second&quot; class=&quot;pane&quot;&gt;
      &lt;div class=&quot;outer&quot;&gt;
        &lt;div class=&quot;inner&quot;&gt;
          &lt;div class=&quot;hand&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre><p>Stylus</p><pre><code class="line-numbers language-stylus">@import &quot;nib&quot;

$absolute-center
  absolute: top 50% left 50%

rectangle-center(width, height = width)
  width: width
  height: height
  margin: (height / -2) 0 0 (width / -2)
  @extend $absolute-center

hand(width, height, color)
  width: width
  height: height
  margin: - height (width / -2) 0
  border-radius: .5em .5em 0 0/height height 0 0
  background: color

#container
  absolute: top 0 bottom 0 left 0 right 0
  background: #232425
  background: radial-gradient(@background + 30%, @background - 30%)
  background-size: cover
  font: 14px/1.4 &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif
  @media (max-width: 768px)
    font-size: 12px

#clock
  rectangle-center: 26em
  background: linear-gradient(to bottom, #f9f9f9, #666)
  border-radius: 2em
  &amp;::before
    content: &quot;&quot;
    rectangle-center: 24em
    background: linear-gradient(140deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%)
    background-size: cover
    border-radius: 12em
  &amp;::after
    content: &quot;&quot;
    rectangle-center: 23em
    background: linear-gradient(to bottom, #fff, #ccc)
    border: .1em solid rgba(#000, .2)
    border-radius: 12.5em

.pane
  z-index: 3
  rectangle-center: 16em

.outer
.inner
  width: 100%
  height: 100%

.hand
  @extend $absolute-center

#hour
  .hand
    hand: .6em 4em #333

#minute
  .hand
    hand: .3em 7em #333

#second
  $color = #c00
  .outer
    &amp;::after
      content: &quot;&quot;
      rectangle-center: 1em
      background: $color
      border-radius: 1em
  .hand
    hand: .2em 11em $color
    margin-top: -9em
</code></pre>