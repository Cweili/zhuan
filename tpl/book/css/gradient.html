<div class=page-header><h1 id=CSS>CSS 渐变</h1></div><p>CSS3 中增加了渐变，使原先许多需要运用背景贴图的地方，可以直接用 CSS 完成。</p><p>CSS 渐变作为 <code>background-image</code>，也就是背景图来添加到元素中。</p><p>CSS 渐变分为两种，<strong>线性渐变</strong>和<strong>径向渐变</strong>。</p><h2>线性渐变</h2><p>在线性渐变过程中，颜色沿着一条直线过渡：从左侧到右侧、从右侧到左侧、从顶部到底部、从底部到顶部或着沿任何任意轴。</p><h3 id=W3C>W3C标准线性渐变语法</h3><pre><code class="line-numbers language-css">background-image: linear-gradient([[&lt;angle&gt; | to &lt;side-or-corner&gt; ],]?&lt;color-stop&gt;[,&lt;color-stop&gt;]+);
</code></pre><h3 id=W3C>W3C标准线性渐变属性参数</h3><h4>线性渐变的方向</h4><p>第一个参数指定了渐变的方向，同时决定了渐变颜色的停止位置。这个参数值可以省略，当省略不写的时候其取值为 <code>to bottom</code>。在决定渐变的方向主要有两种方法：</p><p><code>&lt;angle&gt;</code>：通过角度来确定渐变的方向。0度表示渐变方向从下向上，90度表示渐变方向从左向右。如果取值为下值，其角度按顺时针方向旋转。</p><p>关键词：通过关键词来确定渐变的方向。如 <code>to top</code>、<code>to right</code>、<code>to bottom</code> 和 <code>to left</code>。这些关键词对应的角度值为 <code>0deg</code>、<code>90deg</code>、<code>180deg</code> 和 <code>270deg</code>。除了使用 <code>to top</code>、<code>top left</code> 之外，还可以使用 <code>to bottom right</code> 左上角到右下角、<code>to bottom left</code> 左上角到右下角等。</p><p>第二个和第三个参数，表示颜色的起始点和结束点。可以插入多个颜色值。</p><h5>从上到下的几种写法</h5><blockquote><p>以下例子，可以切换到 <code>CSS</code> 页，查看 CSS 写法。</p></blockquote><iframe height=200 scrolling=no src="//codepen.io/airen/embed/HuqLs/?height=200&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h5>从下到上的几种写法</h5><iframe height=200 scrolling=no src="//codepen.io/airen/embed/doDaj/?height=200&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h5>从左到右的几种写法</h5><iframe height=200 scrolling=no src="//codepen.io/airen/embed/Encfi/?height=200&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h5>从右到左的几种写法</h5><iframe height=200 scrolling=no src="//codepen.io/airen/embed/zLKco/?height=200&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h5>对角线渐变的几个例子</h5><iframe height=500 scrolling=no src="//codepen.io/airen/embed/qxJKw/?height=500&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h4>线性渐变的色值</h4><p>可以添加多种色值来进行渐变。</p><iframe height=500 scrolling=no src="//codepen.io/airen/embed/GburB/?height=500&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h4>每种渐变颜色的位置</h4><p>在颜色定义的后面，加上百分比，可以定义该颜色的结束位置。</p><iframe height=500 scrolling=no src="//codepen.io/airen/embed/hwyKd/?height=500&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h2>径向渐变</h2><p>CSS3 径向渐变是圆形或椭圆形渐变。颜色不再沿着一条直线轴变化，而是从一个起点朝所有方向混合。但相对线性渐变要比径向渐变复杂得多。我们重点列出其与线性渐变不同之处。</p><h3 id=W3C>W3C标准径向渐变语法</h3><pre><code class="line-numbers language-css">background-image: radial-gradient([[&lt;shape&gt; || &lt;size&gt;] [at &lt;position&gt;]?,| at &lt;position&gt;,]?&lt;color-stop&gt;[,&lt;color-stop&gt;]+);
</code></pre><h3 id=W3C>W3C标准径向渐变属性参数</h3><h4>径向渐变的形状</h4><p><code>&lt;shape&gt;</code>：主要用来定义径向渐变的形状。</p><p>其主要包括两个值：</p><ul><li><code>circle</code>：如果 <code>&lt;size&gt;</code> 和 <code>&lt;length&gt;</code> 大小相等，那么径向渐变是一个圆形，也就是用来指定圆形的径向渐变</li><li><code>ellipse</code>：如果 <code>&lt;size&gt;</code> 和 <code>&lt;length&gt;</code> 大小不相等，那么径向渐变是一个椭圆形，也就是用来指定椭圆形的径向渐变。</li></ul><h4>径向渐变的渐变半径</h4><p><code>&lt;size&gt;</code>：主要用来确定径向渐变的渐变半径大小。</p><p>如果省略这个参数，其默认值为 <code>farthest-corner</code>。</p><p>可以给其显式的设置一些关键词，主要有：</p><ul><li><code>closest-side</code>：指定径向渐变的半径长度为从圆心到离圆心最近的边；</li><li><code>closest-corner</code>：指定径向渐变的半径长度为从圆心到离圆心最近的角；</li><li><code>farthest-side</code>：指定径向渐变的半径长度为从圆心到离圆心最远的边；</li><li><code>farthest-corner</code>：指定径向渐变的半径长度为从圆心到离圆心最远的角；</li><li>如果 <code>&lt;shape&gt;</code> 设置了为 <code>circle</code> 或者省略，<code>&lt;size&gt;</code> 可能显式设置为 <code>&lt;length&gt;</code>。表示的是用长度值指定径向渐变的横向或纵向直径长度，并根据横向和纵向的直径来确定径向渐变的形状是圆或者是椭圆。此值不不能负值。</li><li>如果 <code>&lt;shape&gt;</code> 设置了 <code>ellipse</code> 或者省略，<code>&lt;size&gt;</code> 可能显式设置为<code>[&lt;length&gt;|&lt;percentage&gt;]</code>。主要用来设置椭圆的大小。第一个值代表椭圆的水平半径，第二个值代表垂直半径。这两个值除了使用 <code>&lt;length&gt;</code> 定义大小之外还可以使用 <code>&lt;percentage&gt;</code> 来定义这两半径大小。使用 <code>&lt;percentage&gt;</code>定义值是相对于径向渐变容器的尺寸。同样不能为负值。</li></ul><h4>径向渐变的圆心位置</h4><p><code>&lt;position&gt;</code>：主要用来定义径向渐变的圆心位置。此值类似于CSS中 <code>background-position</code> 属性，用于确定元素渐变的中心位置。</p><p>如果省略这个参数，其默认值为 <code>center</code>。</p><p>其值主要有以下几种：</p><ul><li><code>&lt;length&gt;</code>：用长度值指定径向渐变圆心的横坐标或纵坐标。可以为负值。</li><li><code>&lt;percentage&gt;</code>：用百分比指定径向渐变圆心的横坐标或纵坐标。可以为负值。</li><li><code>left</code>：设置左边为径向渐变圆心的横坐标值。</li><li><code>center</code>：设置中间为径向渐变圆心的横坐标值或纵坐标。</li><li><code>right</code>：设置右边为径向渐变圆心的横坐标值。</li><li><code>top</code>：设置顶部为径向渐变圆心的纵标值。</li><li><code>bottom</code>：设置底部为径向渐变圆心的纵标值。</li></ul><h3>径向渐变的例子</h3><h4>最简单的用法</h4><p>仅指定渐变色值，其他属性均省略，其代表了圆心在容器正中间，按容器宽高比例产生径向渐变。</p><iframe height=400 scrolling=no src="//codepen.io/airen/embed/plvaD/?height=400&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h4>圆形的径向渐变</h4><p>只需要添加一个关键词 <code>circle</code>。</p><iframe height=400 scrolling=no src="//codepen.io/airen/embed/BDhsv/?height=400&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h4>指定圆心位置</h4><p>通过在形状后增加 <code>at &lt;position&gt;</code> 来指定圆心的位置。</p><p><strong>注意</strong>：</p><ul><li>此时形状 <code>circle</code> 或 <code>ellipse</code> 不能省略。</li></ul><iframe height=500 scrolling=no src="//codepen.io/airen/embed/xuero/?height=500&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h4>具体指定渐变半径和圆心位置</h4><p>圆心位置在 <code>200px,150px</code> 处，主要半径为 <code>50px</code>，次要半径为 <code>150px</code>，从 <code>hsla(120,70%,60%,.9)</code> 色到 <code>hsla(360,60%,60%,.9)</code> 色径向渐变：</p><iframe height=400 scrolling=no src="//codepen.io/airen/embed/ulDBk/?height=400&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><p>如果主要半径和次要半径相等，径向渐变结果将是一个圆形。</p><h4>使用百分比指定渐变半径和圆心位置</h4><p>你可以使用百分比替换具体的尺寸，以达到按容器大小来指定渐变位置的效果。</p><iframe height=400 scrolling=no src="//codepen.io/airen/embed/bedyJ/?height=400&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h4>其他用关键字方式指定渐变半径</h4><p>关键字的方式包括：</p><ul><li><code>closest-side</code>：指定径向渐变的半径长度为从圆心到离圆心最近的边；</li><li><code>closest-corner</code>：指定径向渐变的半径长度为从圆心到离圆心最近的角；</li><li><code>farthest-side</code>：指定径向渐变的半径长度为从圆心到离圆心最远的边；</li><li><code>farthest-corner</code>：指定径向渐变的半径长度为从圆心到离圆心最远的角；</li></ul><iframe height=500 scrolling=no src="//codepen.io/airen/embed/fxvCw/?height=500&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h4>增加径向渐变的色值和色值结束位置</h4><p>径向渐变颜色的设置方式与线性渐变相同。</p><iframe height=280 scrolling=no src="//codepen.io/airen/embed/mFdvL/?height=280&theme-id=11611&default-tab=result" frameborder=no allowtransparency=true allowfullscreen=true style=width:100%></iframe><h2 id=CSS>练习（石英钟 - CSS 渐变）</h2><p>我们继续在之前石英钟的代码中增加渐变的部分。</p><h3>背景</h3><p>我们为整个背景的部分增加一个中间明亮，外部暗的径向渐变效果。</p><pre><code class="line-numbers language-css">#container {
  background: #232425;
  background: -webkit-radial-gradient(#636669, #19191a);
  background: -moz-radial-gradient(#636669, #19191a);
  background: -o-radial-gradient(#636669, #19191a);
  background: -ms-radial-gradient(#636669, #19191a);
  background: radial-gradient(#636669, #19191a);
  -webkit-background-size: cover;
  -moz-background-size: cover;
  background-size: cover;
}
</code></pre><ul><li>为了兼容不支持 CSS3 渐变色的浏览器，我们在最前面添加一行单一的背景色。</li><li>为了兼容一些不支持 W3C标准 CSS3 特性但拥有其私有实现的旧浏览器，我们需要在使用渐变色和 <code>background-size</code> 时增加浏览器的私有前缀 <code>-webkit-</code>、<code>-moz-</code>、<code>-o-</code>、<code>-ms-</code>，当然也要保留标准的那一行样式。</li></ul><h3>石英钟外壳</h3><p>使用线性渐变给石英钟的外壳部分加上金属的颜色，从上到下渐变。</p><pre><code class="line-numbers language-css">#clock {
  background: #f9f9f9;
  background: -webkit-linear-gradient(top, #f9f9f9, #666);
  background: -moz-linear-gradient(top, #f9f9f9, #666);
  background: -o-linear-gradient(top, #f9f9f9, #666);
  background: -ms-linear-gradient(top, #f9f9f9, #666);
  background: linear-gradient(to bottom, #f9f9f9, #666);
}
</code></pre><h3>石英钟表盘外框</h3><p>使用 <code>#clock::before</code> 伪元素为石英钟增加表盘外框，位置重合在 <code>#clock</code> 元素上，尺寸稍微小一些，使用 <code>140deg</code> 斜向的四种颜色的线性渐变增加金属的光泽。</p><pre><code class="line-numbers language-css">#clock,
#clock::before,
#clock::after {
  position: absolute;
  top: 50%;
  left: 50%;
}

#clock::before {
  content: &quot;&quot;;
  width: 24em;
  height: 24em;
  margin: -12em 0 0 -12em;
  background: -webkit-linear-gradient(310deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%);
  background: -moz-linear-gradient(310deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%);
  background: -o-linear-gradient(310deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%);
  background: -ms-linear-gradient(310deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%);
  background: linear-gradient(140deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%);
  -webkit-background-size: cover;
  -moz-background-size: cover;
  background-size: cover;
}
</code></pre><h3>石英钟表盘</h3><p>使用 <code>#clock::after</code> 伪元素为石英钟增加表盘，位置重合在 <code>#clock::before</code> 伪元素上，尺寸再稍微小一些，使用从上到下的线性渐变增加金属的光泽，并且加一点边框显得有立体感。</p><pre><code class="line-numbers language-css">#clock::after {
  content: &quot;&quot;;
  width: 23em;
  height: 23em;
  margin: -11.5em 0 0 -11.5em;
  background: -webkit-linear-gradient(top, #fff, #ccc);
  background: -moz-linear-gradient(top, #fff, #ccc);
  background: -o-linear-gradient(top, #fff, #ccc);
  background: -ms-linear-gradient(top, #fff, #ccc);
  background: linear-gradient(to bottom, #fff, #ccc);
  border: 0.1em solid rgba(0,0,0,0.2);
}
</code></pre><h3>最终效果</h3><p><style>#clock,#clock-1,#clock-2{position:absolute;top:50%;left:50%}#container{position:absolute;top:0;bottom:0;left:0;right:0;background:#232425;background:-webkit-radial-gradient(#636669,#19191a);background:-moz-radial-gradient(#636669,#19191a);background:-o-radial-gradient(#636669,#19191a);background:-ms-radial-gradient(#636669,#19191a);background:radial-gradient(#636669,#19191a);-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;font:14px/1.4 Helvetica,Arial,sans-serif}#clock{width:26em;height:26em;margin:-13em 0 0 -13em;background:#f9f9f9;background:-webkit-linear-gradient(top,#f9f9f9,#666);background:-moz-linear-gradient(top,#f9f9f9,#666);background:-o-linear-gradient(top,#f9f9f9,#666);background:-ms-linear-gradient(top,#f9f9f9,#666);background:linear-gradient(to bottom,#f9f9f9,#666)}#clock-1{width:24em;height:24em;margin:-12em 0 0 -12em;background:-webkit-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-moz-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-o-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:-ms-linear-gradient(310deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);background:linear-gradient(140deg,#f6f8f9 0,#e5ebee 50%,#cdd4d9 51%,#f5f7f9 100%);-webkit-background-size:cover;-moz-background-size:cover;background-size:cover}#clock-2{width:23em;height:23em;margin:-11.5em 0 0 -11.5em;background:-webkit-linear-gradient(top,#fff,#ccc);background:-moz-linear-gradient(top,#fff,#ccc);background:-o-linear-gradient(top,#fff,#ccc);background:-ms-linear-gradient(top,#fff,#ccc);background:linear-gradient(to bottom,#fff,#ccc);border:.1em solid rgba(0,0,0,.2)}</style></p><div style=position:relative;width:100%;height:500px><div id=container><div id=clock><div id=clock-1></div><div id=clock-2></div></div></div></div><h3>本次完整代码</h3><p>HTML（未改变）</p><pre><code class="line-numbers language-html">&lt;div id=&quot;container&quot;&gt;
  &lt;div id=&quot;clock&quot;&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre><p>CSS</p><pre><code class="line-numbers language-css">#clock,
#clock::before,
#clock::after {
  position: absolute;
  top: 50%;
  left: 50%;
}

#container {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: #232425;
    background: -webkit-radial-gradient(#636669, #19191a);
  background: -moz-radial-gradient(#636669, #19191a);
  background: -o-radial-gradient(#636669, #19191a);
  background: -ms-radial-gradient(#636669, #19191a);
  background: radial-gradient(#636669, #19191a);
  -webkit-background-size: cover;
  -moz-background-size: cover;
  background-size: cover;
  font: 14px/1.4 &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;
}

#clock {
  width: 26em;
  height: 26em;
  margin: -13em 0 0 -13em;
  background: #f9f9f9;
    background: -webkit-linear-gradient(top, #f9f9f9, #666);
  background: -moz-linear-gradient(top, #f9f9f9, #666);
  background: -o-linear-gradient(top, #f9f9f9, #666);
  background: -ms-linear-gradient(top, #f9f9f9, #666);
  background: linear-gradient(to bottom, #f9f9f9, #666);
}

#clock::before {
  content: &quot;&quot;;
  width: 24em;
  height: 24em;
  margin: -12em 0 0 -12em;
  background: -webkit-linear-gradient(310deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%);
  background: -moz-linear-gradient(310deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%);
  background: -o-linear-gradient(310deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%);
  background: -ms-linear-gradient(310deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%);
  background: linear-gradient(140deg, #f6f8f9 0%, #e5ebee 50%, #cdd4d9 51%, #f5f7f9 100%);
  -webkit-background-size: cover;
  -moz-background-size: cover;
  background-size: cover;
}

#clock::after {
  content: &quot;&quot;;
  width: 23em;
  height: 23em;
  margin: -11.5em 0 0 -11.5em;
  background: -webkit-linear-gradient(top, #fff, #ccc);
  background: -moz-linear-gradient(top, #fff, #ccc);
  background: -o-linear-gradient(top, #fff, #ccc);
  background: -ms-linear-gradient(top, #fff, #ccc);
  background: linear-gradient(to bottom, #fff, #ccc);
  border: 0.1em solid rgba(0,0,0,0.2);
}
</code></pre><h2>可用资源</h2><ul><li><a href=http://www.cssmatic.com/gradient-generator>CSS 渐变生成工具</a></li></ul>